<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Joyce Yeo Shuhui - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">Concierge</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/CS2103-AY1819S1-F11-2/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Joyce Yeo Shuhui - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-span-class-image-img-src-images-conciergefinal-png-alt-conciergefinal-width-200-span"><a class="link" href="#project-span-class-image-img-src-images-conciergefinal-png-alt-conciergefinal-width-200-span">PROJECT: <span class="image"><img src="../images/ConciergeFinal.png" alt="ConciergeFinal" width="200"></span></a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Concierge&#8482; is a desktop hotel management application for receptionists to
handle potential bookings and current guests. The user interacts with it
using a CLI, and it has a GUI created with JavaFX. It is written in Java, and
 has about 10 kLoC.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Access my contributed code here:<br>
<a href="https://nus-cs2103-ay1819s1.github.io/cs2103-dashboard/#=undefined&amp;search=pikulet" class="bare">https://nus-cs2103-ay1819s1.github.io/cs2103-dashboard/#=undefined&amp;search=pikulet</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Major enhancement</strong>: added <strong>the ability to login/logout</strong> of the system.<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>What it does: Allows users to login to Concierge and access restricted
commands which mutate the data.</p>
</li>
<li>
<p>Significance:  With this feature, hotel managers can implement some level
of access control. Some features more commonly used (<code>find</code>, <code>list</code>) can
still be accessed without signing in. By combining this with the ability
 to export the command history, the auditing process for rogue commands is
 expedited.</p>
</li>
<li>
<p>Highlights:</p>
<div class="ulist">
<ul>
<li>
<p>The login/logout feature is dynamic - the users are not prompted to sign in
upon starting Concierge, and users can logout and log back in within the same
 session. This means that there is a very close integration with the existing
  commands to verify the sign-in status and whether the commands are
  restricted.</p>
</li>
<li>
<p>This feature is complete - I worked with the different architectural
components of Concierge, from command parsing (<code>Logic</code>) to login verification
 (<code>Model</code>) and even password storage (<code>Storage</code>).</p>
</li>
<li>
<p>The feature attempts to achieve some level of security with SHA-256
hashing.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Credits: The password hash algorithm was taken from <a href="https://www.baeldung.com/sha-256-hashing-java" class="bare">https://www.baeldung.com/sha-256-hashing-java</a>.</p>
</li>
<li>
<p>These features were mainly achieved in
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/168">#168</a> and
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/226">#226</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Minor enhancements/ code contributed</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Renamed the existing classes and methods from <code>Person</code> to <code>Guest</code>
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/133">#133</a></p>
</li>
<li>
<p>Removed <code>Address</code> a field in <code>Person</code>
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/143">#143</a>, removed the edit
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/233">#233</a> and delete
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/139">#139</a> commands</p>
</li>
<li>
<p>Modified the <code>add</code> command to take in room and date details
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/104">#104</a>. Room
and Booking package by others.</p>
</li>
<li>
<p>Modified the <code>clear</code> command to maintain empty hotel rooms
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/162">#162</a></p>
</li>
<li>
<p>Added function for GUI verification of rooms
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/162">#162</a></p>
</li>
<li>
<p>Added most of the Appendices in the Developer Guide
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/42">#42</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Project Management</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Managed the team&#8217;s issue tracker</p>
</li>
<li>
<p>Encouraged team to use clean PRs, TODO and Codacy</p>
</li>
<li>
<p>Set up RepoSense for the team
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/159">#159</a></p>
</li>
<li>
<p>Community</p>
<div class="ulist">
<ul>
<li>
<p>PRs reviewed (with non-trivial review comments):
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/157">#157</a>,
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/71">#71</a>,
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/156">#156</a>,
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/111">#111</a>,
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/100">#100</a>,
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/222">#222</a>,
<a href="https://github.com/CS2103-AY1819S1-F11-2/main/pull/219">#219</a></p>
</li>
<li>
<p>Reported bugs for another team: <a href="https://github.com/CS2103-AY1819S1-W14-3/main/issues" class="bare">https://github.com/CS2103-AY1819S1-W14-3/main/issues</a></p>
<div class="ulist">
<ul>
<li>
<p>Discovered impersistence in data (#161),
Discovered hidden bug by rearranging command (#148),
Made suggestion on bounds checking (#157)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>My contributions to the User Guide below showcase my ability to write
documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="adding-a-booking-code-add-code-span-class-image-img-src-images-icon-key-png-alt-icon-key-width-32-span"><a class="link" href="#adding-a-booking-code-add-code-span-class-image-img-src-images-icon-key-png-alt-icon-key-width-32-span">Adding a booking: <code>add</code> <span class="image"><img src="../images/icon-key.png" alt="icon key" width="32"></span></a></h3>
<div class="paragraph">
<p>Adds a booking associated with a guest, room and booking period.<br>
Format: <code>add n/NAME p/PHONE_NUMBER e/EMAIL [t/TAG] r/ROOM_NUMBER from/START_DATE to/END_DATE</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A valid booking cannot clash with an existing booking. It must also have a
  start date from today onwards (i.e. not outdated).
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>A guest can have any number of tags (including 0)</p>
</li>
<li>
<p>A guest can make an unlimited number of bookings with the hotel.</p>
</li>
<li>
<p>When adding a booking, the guest will <strong>not</strong> be added to the archived guest list or checked-in guest list.
His/ her information will be stored under his/ her booking in the room.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Example: <code>add n/John Smith p/98765432 e/johnsmith@gmail.com t/VIP r/085
from/17/12/18 to/19/12/18</code></p>
</div>
<div class="paragraph">
<p>Add a guest "John Smith" to room 085 for the period of stay from 17/12/18 to
19/12/18.</p>
</div>
<div class="paragraph">
<p>Adding an inactive booking: you can view the booking by selecting the
relevant room, under "All other bookings". Only active bookings (i.e. start
date is today) can be seen on the left room pane.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AddCommand-userguide-notactive.png" alt="AddCommand userguide notactive" width="800">
</div>
</div>
</div>
<div class="sect2">
<h3 id="login-code-login-code"><a class="link" href="#login-code-login-code">Login : <code>login</code></a></h3>
<div class="paragraph">
<p>Logs in to the Concierge&#8482; application.<br>
Format: <code>login user/USERNAME pw/PASSWORD</code></p>
</div>
<div class="paragraph">
<p>Note: The username and password are both case-sensitive.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The default account can be accessed with <code>login user/admin pw/passw0rd</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A login allows the user to access the commands which can affect the
bookings. Commands which require login: <code>add</code>, <code>checkin</code>, <code>checkout</code>, <code>reassign</code>,
<code>service</code> and <code>clear</code>.</p>
</div>
<div class="paragraph">
<p>Example: <code>login user/admin pw/passw0rd</code></p>
</div>
<div class="paragraph">
<p><code>clear</code><br>
<code>"This command requires you to sign in."</code><br>
Attempting to clear Concierge&#8482; without a login is not allowed.</p>
</div>
<div class="paragraph">
<p><code>login user/admin pw/passw0rd</code><br>
<code>"Successfully signed in as: admin"</code><br>
Login with a valid account, such as the default one provided.</p>
</div>
<div class="paragraph">
<p>After signing in, the <code>clear</code> command can now be executed.</p>
</div>
<div class="sect3">
<h4 id="adding-a-new-account"><a class="link" href="#adding-a-new-account">Adding a new account</a></h4>
<div class="literalblock">
<div class="content">
<pre>Currently, Concierge(TM) does not have a feature for users to add an account via the app. Nevertheless, for the adventurous users who want to do so, this sub-section will be useful.</pre>
</div>
</div>
<div class="paragraph">
<p>Step 1: Concierge&#8482; uses SHA-256 password hashing. This hash for your
<strong>password</strong> can be generated using this
<a href="https://passwordsgenerator.net/sha256-hash-generator/">tool</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
 Concierge&#8482; is designed to work for alphanumeric usernames and passwords in
 mind. Do not enter symbols (!, @, %&#8230;&#8203;). Do not begin or end your passwords
 with whitespaces.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 2: Add the entry to the <code>passwords.json</code> file. This should be in the
same location as <code>concierge.jar</code>. Note that entries are separated with a
comma.<br>
Format: <code>"username" : "hashedPassword"</code></p>
</div>
<div class="paragraph">
<p>In the image below, a new account with username "newUser" and password
"mySecurePassw0rd" has been added.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/LogInCommand-addpasswordentry.png" alt="LogInCommand addpasswordentry" width="900">
</div>
</div>
<div class="paragraph">
<p>Step 3: Close and reload the Concierge&#8482; application, and your new account
will be recognised.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
 The parsing of the <code>passwords.json</code> file is delicate. Currently, if you
 enter a valid json file format but an incorrect password reference list
 format, you will end up with no default account. To resolve this, delete the
  <code>passwords.json</code> file and re-run Concierge&#8482;.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logout-code-logout-code"><a class="link" href="#logout-code-logout-code">Logout : <code>logout</code></a></h3>
<div class="paragraph">
<p>Logs out of the Concierge&#8482; application.<br>
Format: <code>logout</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The special classes of commands (as documented in <a href="#login-code-login-code">login</a>) can no longer be executed.</p>
</li>
<li>
<p>The <code>logout</code> command will erase the command history, so users cannot undo/
redo commands executed before the logout.</p>
<div class="ulist">
<ul>
<li>
<p>Even if you login again, you cannot undo your previous actions.</p>
</li>
<li>
<p>This achieves the same effect as closing and re-opening Concierge&#8482;
after a logout.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example: <code>logout</code></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>My contributions to the Developer Guide below showcase my ability to write
technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="adding-a-booking"><a class="link" href="#adding-a-booking">Adding a Booking</a></h3>
<div class="paragraph">
<p>The <code>add</code> command is used by the receptionist to add the guest to the hotel,
and assign him a room.</p>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current Implementation</a></h4>
<div class="paragraph">
<p>We currently accept a <code>Guest</code>, <code>RoomNumber</code> and <code>BookingPeriod</code>
as parameters for the <code>AddCommand</code> constructor. An example of its usage:
<code>add n/Madith p/83141592 e/madith@themyth.com r/041 from/29/11/2018 to/ 03/12/2018</code></p>
</div>
<div class="paragraph">
<p>The parsing of the <code>AddCommand</code> is very similar to what was already
implemented in AddressBook4. More parameters were added, namely the
<code>RoomNumber</code> and <code>BookingPeriod</code>. These are parsed to create the respective
objects - <code>Guest</code>, <code>RoomNumber</code> and <code>BookingPeriod</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In v2.0, users can enter a start date and duration to specify their booking
period.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As in AddressBook4, the <code>Logic</code> component parses the <code>AddCommand</code>, and the
<code>Model</code> handles its execution.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In the <code>Model</code>, the <code>Guest</code> is <em>no longer</em> added to Concierge. It was
previously the case in AddressBook4.</p>
</li>
<li>
<p>A new <code>Booking</code> object is created with the <code>Guest</code> and <code>BookingPeriod</code> as
its parameters.</p>
</li>
<li>
<p>This <code>Booking</code> is then added to the <code>Room</code> with the <code>RoomNumber</code> specified. Every <code>Room</code> maintains a <code>SortedSet&lt;Booking&gt;</code> which is encapsulated in the
<code>Bookings</code> (plural) class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An Activity Diagram for the execution of <code>AddCommand#execute</code> is shown below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AddCommand-activity-diagram.png" alt="AddCommand activity diagram" width="400">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>AddCommandParser</code> already checks that <code>ROOM_NUMBER</code> is a valid
string from <code>001</code> to <code>100</code>, and the initialisation of Concierge checks that
there are 100 rooms. The <code>RoomNotFoundException</code> is not expected to occur
for any user input, but is left there as a defensive measure.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-check-for-outdated-bookings"><a class="link" href="#aspect-check-for-outdated-bookings">Aspect: Check for outdated bookings</a></h5>
<div class="paragraph">
<p>Outdated bookings are those which have a start date before today. Concierge
disallows users to <code>add</code> outdated bookings.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Do the check in <code>AddCommand#execute</code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Very easy to implement. A parameter check in the <code>execute</code> method will
suffice. Will only affect the <code>AddCommandSystemTest</code>.</p>
</li>
<li>
<p>Cons: The actual <code>Model#addBooking</code> does not do any check on the
<code>BookingPeriod</code> being outdated, opening the possibly of outdated <code>Booking</code> s
being added from via other commands.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Do the check in <code>Room#addBooking</code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Centralises exceptions thrown related to bookings in the
<code>Booking</code> class. Increases the cohesiveness of this class.</p>
</li>
<li>
<p>Cons: All the existing tests and sample data calling the <code>addBooking</code>
method with outdated bookings have to be changed. It also becomes difficult
to do unit tests on checking in bookings which are outdated but not expired,
since these bookings can no longer be added to the model.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-reduce-coupling-between-code-room-code-and-code-guest-code"><a class="link" href="#aspect-reduce-coupling-between-code-room-code-and-code-guest-code">Aspect: Reduce coupling between <code>Room</code> and <code>Guest</code></a></h5>
<div class="paragraph">
<p>Semantically, we can observe a strong coupling and dependency between <code>Room</code>
and <code>Guest</code>. A <code>Room</code> contains a <code>Guest</code>, and a <code>Guest</code> also has a <code>Room</code>.
Maintaining this coupling allows for very quick lookup both ways, either
given a <code>Guest</code> (which is common at the reception desk) or given a <code>Room</code>
(which is common for housekeeping).</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Add <code>Guest</code> as a field in <code>Room</code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: An efficient way for managing bookings. Receptionist can quickly
determine if the <code>Room</code> is free to book. Lookup time for <code>Guest</code> not
expected to increase greatly, since <code>Room</code> s are not expected to have a large
 number of advanced bookings made.</p>
</li>
<li>
<p>Cons: Difficult to find the <code>Room</code> given the <code>Guest</code>. When a <code>Guest</code> has made
an advanced booking and wishes to cancel it, we have to search through all
the <code>Room</code> s. Nevertheless, we expect most guests to be aware of their rooms.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Add <code>Room</code> as a field in <code>Guest</code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Very customer-centric design. Centralises all the information about
the <code>Guest</code>, including <code>Booking</code> s made and <code>Expense</code> s incurred.</p>
</li>
<li>
<p>Cons: Making a new <code>Booking</code> with a new <code>Guest</code> is highly inefficient.
<code>Booking</code> information is now scattered across individual <code>Guest</code> s.</p>
<div class="ulist">
<ul>
<li>
<p>[v1.4] On top of the list of rooms, we maintain a separate list of
checked-in guests. This list does not retain any booking information, as it
 is meant to for a quick lookup of the guests' particulars.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="login-and-logout"><a class="link" href="#login-and-logout">Login and Logout</a></h3>
<div class="paragraph">
<p>The <code>login</code> feature allows hotel managers to tag commands entered with a
 specific user, creating a blame history to trace rogue commands. Managers
 can also control which receptionists have full access to Concierge.</p>
</div>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">Current Implementation</a></h4>
<div class="paragraph">
<p>Currently, <code>login</code> is implemented as a
<a href="#aspect-accessing-features-of-concierge-with-without-login">dynamic feature</a>,
so users are not prompted to sign in upon starting Concierge. Instead, they
only have to sign in when executing commands which would mutate the data,
such as <code>add</code>, <code>checkin</code>, <code>checkout</code>, <code>reassign</code>, <code>service</code> and <code>clear</code>.</p>
</div>
<div class="sect4">
<h5 id="logic"><a class="link" href="#logic">Logic</a></h5>
<div class="paragraph">
<p>Given the nature of the <code>login</code> command being dynamic (can be entered at any
point in time, between any commands), it is then natural to implement it like
a normal command, extending the abstract <code>Command</code> class. The <code>logout</code> command
 is also implemented in this way.</p>
</div>
</div>
<div class="sect4">
<h5 id="model"><a class="link" href="#model">Model</a></h5>
<div class="paragraph">
<p>The model handles the signing-in, using its attribute <code>LogInManager</code>.
 The Class Diagram of the login module is shown below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/LogInCommand-LogInManager-classdiagram.png" alt="LogInCommand LogInManager classdiagram" width="700">
</div>
</div>
<div class="paragraph">
<p><code>LogInManager</code> uses an optional <code>username</code> to keep track of whether
the user is currently signed in. The <code>passwordReferenceList</code> provides an
immutable key-value lookup for usernames and passwords.<br></p>
</div>
<div class="paragraph">
<p><code>LogInManager</code> implements the following operations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>LogInManager#isSignedIn()</code> - checks if the user is currently signed in.</p>
</li>
<li>
<p><code>LogInManager#signIn(String, String)</code> - attempts to sign in with the given
username and hashed password. This is handled by the <code>PasswordHashList</code>. A
case-insensitive comparison is used on the hash.</p>
</li>
<li>
<p><code>LogInManager#signOut()</code> - signs out of Concierge.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A new method <code>resetUndoRedoHistory</code> was added to the
<code>VersionedConcierge</code> (used for the Undo/ Redo feature). This is used to clear
the command history upon a <code>logout</code> command, so users cannot undo important
commands or redo accidental bad commands after signing out.</p>
</div>
<div class="sect5">
<h6 id="login"><a class="link" href="#login">Login</a></h6>
<div class="paragraph">
<p>Shown below is the Sequence Diagram for executing a valid <code>login</code> command.
The diagram also illustrates how the <code>LogicManager</code> checks for the sign-in
requirement of commands.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/LogInCommand-sequencediagram.png" alt="LogInCommand sequencediagram" width="1000">
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="storage"><a class="link" href="#storage">Storage</a></h5>
<div class="paragraph">
<p>The <code>passwords.json</code> file is read when Concierge is first opened (i.e. in
<code>MainApp#init</code>), and is never written to again. The storage function is
managed by the <code>JsonPasswordsStorage</code> class. Intuitively, the usernames and
passwords are stored as <a href="#aspect-storage-of-passwords">key-value pairs</a> for
 quick look-up.</p>
</div>
<div class="paragraph">
<p>A SHA-256 hash was used in building this feature. In future, this hashing
algorithm can be changed to a HMAC hash, which adds a username salt. Then,
different users will not know if they have chosen the same passwords.</p>
</div>
</div>
<div class="sect4">
<h5 id="check-for-sign-in-requirement-of-commands"><a class="link" href="#check-for-sign-in-requirement-of-commands">Check for sign-in requirement of commands</a></h5>
<div class="paragraph">
<p><code>LogicManager</code> does the
<a href="#aspect-check-for-sign-in-requirement-of-commands">checks for whether a command requires a sign in</a>,
 and whether the model is signed in.</p>
</div>
<div class="paragraph">
<p>The <code>Command</code> class exposes a new <code>requiresSignIn()</code> method that returns
false by default. To make new command require signing-in, one only has to
overwrite this method in that command.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-accessing-features-of-concierge-with-without-login"><a class="link" href="#aspect-accessing-features-of-concierge-with-without-login">Aspect: Accessing features of Concierge with/ without login</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Login is needed only for some features</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Manager can implement some level of access control within Concierge,
especially since some of the more commonly used Concierge features (<code>list</code>,
<code>find</code>) are read-only features. This is quicker than mandating a sign-in at
the start and creating different user views based on the account privilege (admin vs normal).</p>
</li>
<li>
<p>Cons: Not very intuitive to users. They have to enter commands before being
told they need to sign in. The <code>requiresSignIn()</code> check takes place after the
parsing of the command, so a user can is told they cannot execute the command
without a sign-in after their command is parsed correctly.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Login is needed for all features</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Very easy to check login validity. This only occurs when Concierge is
first loaded. Subsequent commands can be executed without additional checks
on the sign-in requirement.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-check-for-sign-in-requirement-of-commands"><a class="link" href="#aspect-check-for-sign-in-requirement-of-commands">Aspect: Check for sign-in requirement of commands</a></h5>
<div class="paragraph">
<p>Given that sign-in is only required for some commands, the priority in
designing this aspect is the ability to easily mandate/ disable compulsory
the login requirement for current and future commands.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Do the check in <code>LogInManager#execute</code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Ensures that commands are checked before any execution. Users will not
inadvertently change the model before doing the sign-in checks.</p>
</li>
<li>
<p>Cons: Unable to implement commands that can do some actions without
sign-in. For example, a future developer may want to make the <code>add</code> command
such that when the user is not signed-in, the booking is still added but a tag
 is added to the <code>Guest</code>, reminding the manager to verify the booking.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Do the check in <code>Command#execute</code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Increases cohesiveness of <code>Command</code> class. The compulsory sign-in is
an attribute of a <code>Command</code>, so these checks can be done internally.
<code>Command</code> can implement a method <code>checkSignIn(Model)</code>, and commands which
require sign-ins can call this method in their respective <code>execute</code> methods.</p>
</li>
<li>
<p>Cons: While increasing cohesion, this implementation makes less semantic sense.
The logical misstep comes because one is executing the method, then checking
 if the method can be executed, then "reversing" the execution.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-storage-of-passwords"><a class="link" href="#aspect-storage-of-passwords">Aspect: Storage of Passwords</a></h5>
<div class="paragraph">
<p>The password file is currently read at <code>MainApp#init</code>, and saved once.
Unlike the Concierge data, this file is no longer referred to when Concierge
is in use.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Store passwords in JSON file</p>
<div class="ulist">
<ul>
<li>
<p>Pros: JSON is very easy to work with.</p>
<div class="ulist">
<ul>
<li>
<p>Able to utilise existing <code>JsonUtil</code> methods used by the <code>UserPrefs</code> and
<code>Config</code> classes.</p>
</li>
<li>
<p>Easily parse data into key-value pairs, which semantically matches our needs.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons: <code>JsonUtil</code> file is not completely suitable for a data type that has
potentially an unlimited number of entries, since this utility serialises the
 data to match the class attributes.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Store passwords in same XML file as all other
Concierge data.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Centralises data storage in Concierge. There is only one single
source of truth for all data.</p>
</li>
<li>
<p>Cons: The XML file is too complicated for the needs of password storage.</p>
<div class="ulist">
<ul>
<li>
<p>Concierge does not need to write the the passwords file when in use.
<code>concierge.xml</code> is constantly being written to, which is an unnecessary and
possibly unsafe feature for the passwords component.</p>
</li>
<li>
<p>Creating a new password entry is difficult since once has to add all
the layers of XML tags involved. Nevertheless, users are not expected to be
adding new accounts on a regular basis.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="end-note"><a class="link" href="#end-note">End Note</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>I am grateful to have had the opportunity to work on this project with
amazing team members who each contributed with their own strengths. Thank
you, @adamwth @teowz46 @JiaqingTan @neilish3re.</p>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2018-11-12 13:50:38 UTC</div></div></div></body></html>